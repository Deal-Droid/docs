---
title: Message Endpoint API
description: Send messages to your DealDroid bot programmatically via REST API
sidebar:
  order: 1
---

Need to send messages to your DealDroid bot from your own application? The Message Endpoint API lets you programmatically send messages on behalf of customers, allowing you to integrate DealDroid into your custom workflows, mobile apps, or third-party systems.

---

## What Can You Do With the Endpoint API?

The Message Endpoint API allows you to:

- üì± **Build custom chat interfaces** ‚Äî Create your own mobile app or web chat UI
- üîó **Connect external systems** ‚Äî Integrate with CRM, support tickets, or other platforms
- ü§ñ **Automate conversations** ‚Äî Trigger bot interactions from your backend systems
- üí¨ **Send messages on behalf of users** ‚Äî Proxy customer messages through your infrastructure
- üß™ **Test your bot** ‚Äî Programmatically test conversation flows

---

## Getting Started

### Base URL

All API endpoints are accessed through:

```
https://your-dealdroid.com/api/droids/:droidId/endpoint/
```

Replace `:droidId` with your actual Droid ID (you can find this in your DealDroid dashboard).

### Authentication

All endpoints require a **Bearer token** in the `Authorization` header.

**Example header:**

```
Authorization: Bearer <your-token>
```

**Important:** Keep your token secure and never expose it in client-side code or public repositories.

---

## Get Your API Token

![Automation panel showing endpoint token](@/assets/third-party/endpoint.png)

To obtain your API token:

1. Log in to your DealDroid dashboard
2. Navigate to the **Automation Panel** from the left sidebar
3. Find the automation **"When Receive message from Third Party"**
4. Your Bearer token will be displayed here
5. Copy and store it securely

### Rotating Your Token

If you need to generate a new token (e.g., for security reasons):

1. Open the **Automation Panel**
2. Find **"When Receive message from Third Party"**
3. Click **Regenerate** to create a new token
4. Update your applications with the new token

‚ö†Ô∏è **Warning:** Regenerating the token will immediately invalidate the old token. Make sure to update all applications using the API.

---

## Available API Endpoints

DealDroid provides 7 API endpoints to interact with your bot. Below is an overview of the available endpoints:

### 1. Send Text Message

Send a text message to your DealDroid bot on behalf of a customer.

**Endpoint:** `POST /api/droids/:droidId/endpoint/send`

**Use case:** Send customer messages to your bot from your custom application or system.

### 2. Get Channels

Retrieve the list of channels configured for your droid.

**Endpoint:** `GET /api/droids/:droidId/endpoint/channels`

**Use case:** Get information about all communication channels (LINE, Facebook, WhatsApp, etc.) connected to your bot.

### 3. Get Messages

Retrieve the conversation messages for a specific customer.

**Endpoint:** `GET /api/droids/:droidId/endpoint/messages/:customerId`

**Use case:** Display past conversations in your custom chat interface or for analytics purposes.

### 4. Get Customer Config

Get detailed information and configuration for a specific customer.

**Endpoint:** `GET /api/droids/:droidId/endpoint/customer/:customerId`

**Use case:** Retrieve customer profile data including name, contact info, language preference, and bot enabled status.

**Example response includes:** customerId, externalId, channelId, botEnabled, avatar, socialName, name, phone, address, city, zipcode, email, language, and more.

### 5. Update Customer

Enable or disable the bot for a specific customer.

**Endpoint:** `POST /api/droids/:droidId/endpoint/customer/:customerId`

**Body parameter:** `botEnabled` (boolean) - Set to `true` to enable, `false` to disable the bot for this customer.

**Use case:** Toggle bot automation on/off for specific customers (e.g., when human takeover is needed).

### 6. Get Droid Answer

Let DealDroid generate AI-powered responses based on chat history and a new message.

**Endpoint:** `POST /api/droids/:droidId/endpoint/get-droid-answer`

**Body parameters:**

- `humanMessage` (string) - The new message to get a response for
- `chatHistory` (array) - Previous conversation messages for context

**Use cases:**

- **Response-only mode:** Use this when you want DealDroid to only generate responses without managing the conversation flow. Your application handles the chat management while DealDroid provides the intelligent replies.

- **Admin assistance:** Generate suggested responses for human agents. Instead of letting DealDroid reply automatically, use this endpoint to prepare draft responses that admins can review, edit, and send manually.

**Returns:** AI response, customer insights (intent, language, product keywords), shopping cart data, and address parsing.

### 7. Get Alternative Text

Generate AI-powered alternative text descriptions for images sent by users.

**Endpoint:** `POST /api/droids/:droidId/endpoint/get-image-alt`

**Body parameter:** `imageUrl` (string) - The URL of the image to analyze (supports .jpg, .jpeg, .png, .gif, .webp)

**Use case:** Create image descriptions for user-uploaded images before sending them to the AI for response generation (Get Droid Answer). By default, if an image sent to the AI doesn't have alternative text, the AI will generate a description automatically. However, if you pre-generate the description using this endpoint and include it with the image, the AI will skip the description generation step, significantly speeding up the response time.

**Returns:** AI-generated alt text, execution time, and tracking metadata.

---

## Detailed Documentation

For complete specifications, request/response examples, and interactive testing of all endpoints, please refer to our Postman documentation:

**üìò [View Full API Documentation on Postman](https://documenter.getpostman.com/view/36788758/2sB3BDJAbP)**

The Postman documentation includes:

- ‚úÖ Detailed endpoint specifications
- ‚úÖ Required and optional parameters
- ‚úÖ Request body examples
- ‚úÖ Response format and examples
- ‚úÖ Error codes and messages
- ‚úÖ Interactive API testing environment

---

## FAQ

### Q: I get 403 Forbidden. Why?

**A:** You may be using the wrong `customerId` or `droidId`, or your token does not have access to this customer.

### Q: How do I rotate my token?

**A:** Open DealDroid **Automation Panel**. Search for **"When Receive message from Third Party"** and click **Regenerate** to change the token for the endpoint.

### Q: Can I send images?

**A:** Yes, you can send image URLs in the `humanMessage` field when using the Send Text Message endpoint. Make sure the URL is publicly accessible.

### Q: Is there a rate limit?

**A:** Rate limits vary by plan. Contact your DealDroid admin for specific limits on your account.

### Q: Can I use this in a browser application?

**A:** For security reasons, you should only call the API from your backend server. Never expose your Bearer token in client-side JavaScript.

### Q: How do I know what customerId to use?

**A:** You can get `customerId` from webhook payloads when receiving messages from customers.

### Q: What happens if my token is compromised?

**A:** Immediately regenerate your token in the Automation Panel. The old token will be invalidated instantly.

---

## Complete API Reference

For the most up-to-date and comprehensive API documentation, including all endpoints, parameters, and examples, please refer to our Postman documentation:

**üìò [View Full API Documentation on Postman](https://documenter.getpostman.com/view/36788758/2sB3BDJAbP)**

The Postman documentation is our single source of truth and is continuously updated with the latest features and improvements.

---

## That's It! üéâ

**You're ready to integrate DealDroid into your applications!**

With the Message Endpoint API, you can build powerful custom integrations that extend your bot's reach beyond traditional messaging platforms. Whether you're building a mobile app, connecting to a CRM, or automating workflows ‚Äî DealDroid's API makes it possible.

Remember to keep your tokens secure and refer to the Postman documentation for complete API specifications.

Need help? We're here to support you! üòä
